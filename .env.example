# UBLX Ecosystem — Environment Template
#
# SECURITY MODEL:
#   .env / .env.local  → PUBLIC values only (anon key, URLs, public JWK)
#   Vercel env vars    → DATABASE_URL, SERVICE_ROLE_KEY, JWT_SECRET
#   OS keychain        → CLI tokens (managed by `logline auth login`)
#   Runtime flags      → One-time secrets (e.g. --service-key for bootstrap)
#
# NOTHING SECRET TOUCHES DISK. Ever.

# ─── Supabase (public, safe for browser) ──────────────────────────────────
NEXT_PUBLIC_SUPABASE_URL="https://your-project.supabase.co"
NEXT_PUBLIC_SUPABASE_ANON_KEY="sb_publishable_..."

# ─── JWT verification (public key only) ───────────────────────────────────
SUPABASE_JWT_DISCOVERY_URL="https://your-project.supabase.co/auth/v1/.well-known/jwks.json"
SUPABASE_JWT_PUBLIC_JWK=""

# ─── App defaults ────────────────────────────────────────────────────────
APP_URL="http://localhost:3000"
DEFAULT_WORKSPACE_ID="default"
DEFAULT_APP_ID="ublx"
AUTH_PROVIDER_MODE="jwt"
RBAC_STRICT="1"

# ─── LLM gateway ────────────────────────────────────────────────────────
LLM_GATEWAY_BASE_URL="https://api.logline.world"
LLM_GATEWAY_ALLOWED_HOSTS="api.logline.world,localhost,127.0.0.1"

# ═══════════════════════════════════════════════════════════════════════════
# SECRETS — NEVER in .env files. Set them where they belong:
# ═══════════════════════════════════════════════════════════════════════════
#
# Vercel (for deployed Next.js app):
#   vercel env add DATABASE_URL production
#   vercel env add SUPABASE_SERVICE_ROLE_KEY production
#   vercel env add SUPABASE_JWT_SECRET production
#
# CLI (stored in OS keychain automatically):
#   logline auth login --email you@example.com
#
# One-time bootstrap (pass at runtime, never stored):
#   SUPABASE_SERVICE_ROLE_KEY=ey... logline founder bootstrap --tenant-slug x --tenant-name X
#
# Migrations (pass at runtime):
#   DATABASE_URL_UNPOOLED=postgresql://... npx drizzle-kit push
