# Copy to .env.local and fill with your own credentials.
# Never commit real values to git.

# ─── Database ─────────────────────────────────────────────────────────────────
# Required for persistent DB on Vercel/shared deployments.
DATABASE_URL="postgresql://user:password@host/dbname?sslmode=require"
# Optional: direct/non-pooled URL for migrations.
DATABASE_URL_UNPOOLED="postgresql://user:password@host/dbname?sslmode=require"

# ─── App defaults ─────────────────────────────────────────────────────────────
APP_URL="https://your-app-url.example.com"
DEFAULT_WORKSPACE_ID="default"
DEFAULT_APP_ID="ublx"
# Used only in local-dev non-RBAC-strict mode.
DEFAULT_USER_ID="local-dev"
# Set to 1 to require JWT auth and real membership records (no auto-bootstrap).
RBAC_STRICT="0"

# ─── Auth provider mode ───────────────────────────────────────────────────────
# "jwt"    = require Supabase JWT Bearer token (default, Phase A+)
# "compat" = accept x-user-id / x-workspace-id headers (legacy local dev only)
AUTH_PROVIDER_MODE="jwt"

# ─── Supabase ─────────────────────────────────────────────────────────────────
# Project URL: https://aypxnwofjtdnmtxastti.supabase.co
# Use Supabase Postgres connection string in DATABASE_URL above.
NEXT_PUBLIC_SUPABASE_URL="https://your-project.supabase.co"
NEXT_PUBLIC_SUPABASE_ANON_KEY="your_supabase_anon_key"
# JWT secret from: Supabase Dashboard > Settings > API > JWT Secret
SUPABASE_JWT_SECRET="your_supabase_jwt_secret"
# Service role key (server-side only, never expose to browser)
SUPABASE_SERVICE_ROLE_KEY="your_supabase_service_role_key"
# Supabase CLI access token (for logline supabase commands)
SUPABASE_ACCESS_TOKEN="your_supabase_access_token"

# ─── LLM / AI keys ────────────────────────────────────────────────────────────
GEMINI_API_KEY="your_gemini_api_key"

# ─── LogLine daemon integration ───────────────────────────────────────────────
LOGLINE_DAEMON_URL="https://api.logline.world"
LOGLINE_DAEMON_TOKEN="your_logline_daemon_token"

# ─── LLM gateway server-side guardrails for /api/llm-gateway ─────────────────
LLM_GATEWAY_BASE_URL="https://api.logline.world"
LLM_GATEWAY_ALLOWED_HOSTS="api.logline.world,localhost,127.0.0.1"
